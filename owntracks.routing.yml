owntracks.admin_index:
  path: '/admin/config/owntracks'
  defaults:
    _controller: '\Drupal\system\Controller\SystemController::systemAdminMenuBlockPage'
    _title: 'OwnTracks settings'
  requirements:
    _permission: 'administer owntracks'

owntracks.map_settings:
  path: '/admin/config/owntracks/map'
  defaults:
    _form: '\Drupal\owntracks\OwnTracksMapSettingsForm'
    _title: 'OwnTracks Map settings'
  requirements:
    _permission: 'administer owntracks'

entity.owntracks_location.admin_form:
  path: '/admin/config/owntracks/location'
  defaults:
    _form: '\Drupal\owntracks\OwnTracksLocationSettingsForm'
    _title: 'OwnTracks Location settings'
  requirements:
    _permission: 'administer owntracks'

owntracks.location.post:
  path: '/owntracks/location/post'
  defaults:
    _controller: '\Drupal\owntracks\Controller\OwnTracksLocationController::post'
  options:
    _auth: [ 'basic_auth' ]
  methods: [POST]
  requirements:
    _user_is_logged_in: 'TRUE'
    _content_type_format: 'json'
    _permission: 'post owntracks locations'

owntracks.user:
  path: '/user/{user}/owntracks'
  defaults:
    _form: '\Drupal\owntracks\Form\OwnTracksUserForm'
    _title: 'OwnTracks'
  requirements:
    _owntracks_user_access: 'TRUE'
